{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\GitHub\\\\angular-testing-examples\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { UserService } from './../../services/user.service';\nimport { fakeAsync, TestBed, tick } from '@angular/core/testing';\nimport { UserComponent } from './user.component';\nimport { of } from 'rxjs';\nimport { By } from '@angular/platform-browser';\nfdescribe('UserComponent', () => {\n  let component;\n  let fixture;\n  beforeEach( /*#__PURE__*/_asyncToGenerator(function* () {\n    const userServiceMock = jasmine.createSpyObj(['getUser']); // mock user service function\n\n    userServiceMock.getUser.and.callFake(function () {\n      return of({\n        results: [{\n          name: {\n            title: 'Mr',\n            first: 'Peter',\n            last: 'Parker'\n          },\n          dob: {\n            age: 25\n          },\n          picture: {\n            thumbnail: 'test'\n          }\n        }]\n      });\n    });\n    yield TestBed.configureTestingModule({\n      declarations: [UserComponent],\n      providers: [{\n        provide: UserService,\n        useValue: userServiceMock\n      }]\n    }).compileComponents();\n  }));\n  beforeEach(fakeAsync(() => {\n    fixture = TestBed.createComponent(UserComponent);\n    tick(5);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  }));\n  it('should create', () => {\n    expect(component).toBeTruthy();\n    fixture.detectChanges();\n    expect(fixture.debugElement.query(By.css('#wrapper'))).toBeTruthy();\n    expect(fixture.debugElement.query(By.css('#userName'))).toBeTruthy();\n    expect(fixture.debugElement.query(By.css('#userName')).nativeNode.textContent).toBe('Peter Parker');\n    expect(fixture.debugElement.query(By.css('#age'))).toBeTruthy();\n    expect(fixture.debugElement.query(By.css('#age')).nativeElement.textContent).toBe('25');\n    expect(fixture.debugElement.query(By.css('#picture'))).toBeTruthy();\n  });\n});","map":{"version":3,"sources":["C:/GitHub/angular-testing-examples/src/app/components/user/user.component.spec.ts"],"names":["UserService","fakeAsync","TestBed","tick","UserComponent","of","By","fdescribe","component","fixture","beforeEach","userServiceMock","jasmine","createSpyObj","getUser","and","callFake","results","name","title","first","last","dob","age","picture","thumbnail","configureTestingModule","declarations","providers","provide","useValue","compileComponents","createComponent","componentInstance","detectChanges","it","expect","toBeTruthy","debugElement","query","css","nativeNode","textContent","toBe","nativeElement"],"mappings":"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","sourcesContent":["import { UserService } from './../../services/user.service';\r\nimport { fakeAsync, TestBed, tick } from '@angular/core/testing';\r\nimport { UserComponent } from './user.component';\r\nimport { of } from 'rxjs';\r\nimport { By } from '@angular/platform-browser';\r\nfdescribe('UserComponent', () => {\r\n    let component;\r\n    let fixture;\r\n    beforeEach(async () => {\r\n        const userServiceMock = jasmine.createSpyObj(['getUser']);\r\n        // mock user service function\r\n        userServiceMock.getUser.and.callFake(function () {\r\n            return of({\r\n                results: [\r\n                    {\r\n                        name: {\r\n                            title: 'Mr',\r\n                            first: 'Peter',\r\n                            last: 'Parker'\r\n                        },\r\n                        dob: {\r\n                            age: 25\r\n                        },\r\n                        picture: {\r\n                            thumbnail: 'test'\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n        });\r\n        await TestBed.configureTestingModule({\r\n            declarations: [UserComponent],\r\n            providers: [\r\n                {\r\n                    provide: UserService,\r\n                    useValue: userServiceMock\r\n                }\r\n            ]\r\n        })\r\n            .compileComponents();\r\n    });\r\n    beforeEach(fakeAsync(() => {\r\n        fixture = TestBed.createComponent(UserComponent);\r\n        tick(5);\r\n        component = fixture.componentInstance;\r\n        fixture.detectChanges();\r\n    }));\r\n    it('should create', () => {\r\n        expect(component).toBeTruthy();\r\n        fixture.detectChanges();\r\n        expect(fixture.debugElement.query(By.css('#wrapper'))).toBeTruthy();\r\n        expect(fixture.debugElement.query(By.css('#userName'))).toBeTruthy();\r\n        expect(fixture.debugElement.query(By.css('#userName')).nativeNode.textContent).toBe('Peter Parker');\r\n        expect(fixture.debugElement.query(By.css('#age'))).toBeTruthy();\r\n        expect(fixture.debugElement.query(By.css('#age')).nativeElement.textContent).toBe('25');\r\n        expect(fixture.debugElement.query(By.css('#picture'))).toBeTruthy();\r\n    });\r\n});\r\n"]},"metadata":{},"sourceType":"module"}